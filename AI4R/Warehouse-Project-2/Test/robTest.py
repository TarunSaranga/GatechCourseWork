moves = ['move 1.5807963267948966 0', 'move 0.7753981633974485 0', 'move 0.0 0', 'move 0 0.141421356237309', 'move 0 0', 'move 0 0.14142135623731025', 'move 0 0', 'move 0 0.141421356237309', 'move 0 0', 'move 0 0.14142135623731025', 'move 0 0', 'move 0 0.141421356237309', 'move 0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0 0.141421356237309', 'move 0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0.7853981633974483 0', 'move 0.0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999964', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999964', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999964', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999987', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999987', 'move 0 0', 'move -0.7853981633974492 0', 'move 0.0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 3.1086244689504383e-15 0', 'move -4.440892098500626e-16 0', 'move 0 0.1414213562373093', 'move 0 0', 'move -3.552713678800501e-15 0', 'move 0.0 0', 'move 0 0.14142135623730948', 'move 0 0', 'move 8.881784197001252e-16 0', 'move 0.0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move -8.881784197001252e-16 0', 'move 0.0 0', 'move 0 0.14142135623730948', 'move 0 0', 'move 8.881784197001252e-16 0', 'move 0.0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 1.7763568394002505e-15 0', 'move 0.0 0', 'move 0 0.14142135623730923', 'move 0 0', 'move -2.220446049250313e-15 0', 'move 4.440892098500626e-16 0', 'move 0 0.14142135623730953', 'move 0 0', 'move 8.881784197001252e-16 0', 'move 0.0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0 0.14142135623730953', 'move 0 0', 'move 0 0.14142135623730953', 'move 0 0', 'move 1.7763568394002505e-15 0', 'move 0.0 0', 'move 0 0.14142135623730923', 'move 0 0', 'move -1.7763568394002505e-15 0', 'move 0.0 0', 'move 0 0.1414213562373096', 'move 0 0', 'move -1.5707963267948961 0', 'move 0.0 0', 'move 0 0.1414213562373096', 'move 0 0', 'move 0.7853981633974478 0', 'move 0.0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999987', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move -0.7853981633974487 0', 'move 0.0 0', 'move 0 0.1414213562373094', 'move 0 0', 'move 0.7853981633974487 0', 'move 0.0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move -0.7853981633974478 0', 'move 0.0 0', 'move 0 0.14142135623730953', 'move 0 0', 'move -8.881784197001252e-16 0', 'move 0.0 0', 'move 0 0.1414213562373094', 'move 0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0 0.1414213562373094', 'move 0 0', 'move 8.881784197001252e-16 0', 'move 0.0 0', 'move 0 0.14142135623730953', 'move 0 0', 'move -8.881784197001252e-16 0', 'move 0.0 0', 'move 0 0.14142135623730953', 'move 0 0', 'move 8.881784197001252e-16 0', 'move 0.0 0', 'move 0 0.1414213562373094', 'move 0 0', 'move 0 0.14142135623730964', 'move 0 0', 'lift 0', 'move -1.5707963267948981 0', 'move 0.0 0', 'move 0 0.14142135623730948', 'move 0 0', 'move 1.3322676295501878e-15 0', 'move 0.0 0', 'move 0 0.14142135623730953', 'move 0 0', 'move -0.7853981633974487 0', 'move 0.0 0', 'move 0 0.09999999999999998', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999987', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0.7853981633974492 0', 'move 0.0 0', 'move 0 0.14142135623730948', 'move 0 0', 'move -1.7763568394002505e-15 0', 'move 0.0 0', 'move 0 0.14142135623730948', 'move 0 0', 'move 0.7853981633974492 0', 'move 0.0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999987', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999964', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999964', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999964', 'move 0 0', 'move -0.7853981633974483 0', 'move 0.0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 8.881784197001252e-16 0', 'move 0.0 0', 'move 0 0.14142135623730948', 'move 0 0', 'move -8.881784197001252e-16 0', 'move 0.0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 8.881784197001252e-16 0', 'move 0.0 0', 'move 0 0.14142135623730948', 'move 0 0', 'move -3.1086244689504383e-15 0', 'move 0.0 0', 'move 0 0.1414213562373093', 'move 0 0', 'move -1.5707963267948921 0', 'move 0.0 0', 'move 0 0.1414213562373093', 'move 0 0', 'move -2.220446049250313e-15 0', 'move 0.0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0.7853981633974483 0', 'move 0.0 0', 'move 0 0.09999999999999964', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999964', 'move 0 0', 'move 0.7853981633974483 0', 'move 0.0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move -2.220446049250313e-15 0', 'move 0.0 0', 'move 0 0.1414213562373093', 'move 0 0', 'move 2.220446049250313e-15 0', 'move 0.0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0 0.141421356237309', 'move 0 0', 'move 2.220446049250313e-15 0', 'move 0.0 0', 'move 0 0.14142135623730995', 'move 0 0', 'move -4.440892098500626e-15 0', 'move 0.0 0', 'move 0 0.1414213562373093', 'move 0 0', 'move -0.7853981633974461 0', 'move 0.0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999964', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0.7853981633974505 0', 'move 0.0 0', 'move 0 0.14142135623730995', 'move 0 0', 'move -0.7853981633974505 0', 'move 0.0 0', 'move 0 0.09999999999999964', 'move 0 0', 'move 0 0.10000000000000053', 'move 0 0', 'down 4.5 -4.5', 'move -1.5807963267948966 0', 'move -0.7753981633974485 0', 'move 0.0 0', 'move 0 0.14142135623731025', 'move 0 0', 'move 0 0.141421356237309', 'move 0 0', 'move 2.220446049250313e-15 0', 'move -4.440892098500626e-16 0', 'move 0 0.14142135623730995', 'move 0 0', 'move -4.884981308350689e-15 0', 'move 4.440892098500626e-16 0', 'move 0 0.1414213562373093', 'move 0 0', 'move 4.884981308350689e-15 0', 'move -4.440892098500626e-16 0', 'move 0 0.1414213562373093', 'move 0 0', 'move -2.6645352591003757e-15 0', 'move 0.0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move -2.220446049250313e-15 0', 'move 4.440892098500626e-16 0', 'move 0 0.1414213562373093', 'move 0 0', 'move 2.6645352591003757e-15 0', 'move 0.0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 2.220446049250313e-15 0', 'move -4.440892098500626e-16 0', 'move 0 0.1414213562373093', 'move 0 0', 'move -0.7853981633974509 0', 'move 0.0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move -0.7853981633974483 0', 'move 0.0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move 0 0.141421356237309', 'move 0 0', 'lift 1', 'move -1.5707963267948943 0', 'move 0.0 0', 'move 0 0.1414213562373093', 'move 0 0', 'move -2.220446049250313e-15 0', 'move 0.0 0', 'move 0 0.14142135623730964', 'move 0 0', 'move -2.220446049250313e-15 0', 'move 0.0 0', 'move 0 0.1414213562373093', 'move 0 0', 'move 4.440892098500626e-15 0', 'move 0.0 0', 'move 0 0.14142135623730995', 'move 0 0', 'move -4.440892098500626e-15 0', 'move 0.0 0', 'move 0 0.1414213562373093', 'move 0 0', 'move -0.7853981633974461 0', 'move 0.0 0', 'move 0 0.09999999999999964', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0 0.09999999999999964', 'move 0 0', 'move 0 0.10000000000000009', 'move 0 0', 'move 0.7853981633974505 0', 'move 0.0 0', 'move 0 0.14142135623730995', 'move 0 0', 'move -0.7853981633974505 0', 'move 0.0 0', 'move 0 0.09999999999999964', 'move 0 0', 'move 0 0.10000000000000053', 'move 0 0', 'down 4.5 -4.5']
m = []
old_move = moves[0].split()[1:]
m.append(moves[0])
max_length = 3
max_steering = 1.5807963267948966
for move in moves[1:]:    
    mv = move.split()
    if(mv[0]=='move'):
        new_move = mv[1:]
        if(new_move[0] == '0' and new_move[1] == '0'):
            continue
        if(new_move[0] == old_move[0]):
            if(float(new_move[1])+float(old_move[1]) < max_length):
                agg_move = [new_move[0],str(float(new_move[1])+float(old_move[1]))]
                mmm = "move "+ agg_move[0]+ " " + agg_move[1]
                m.append(mmm)
            
        if(old_move[1] != new_move[1]):
            if((float(new_move[0])+float(old_move[0]))<=max_steering):
                agg_move = [str(float(new_move[0])+float(old_move[0])),new_move[1],]
                mmm = "move "+ agg_move[0]+ " " + agg_move[1]
                m.append(mmm)
            
        old_move = new_move
    else:
        m.append(move)

print("m:",m)
    
print("moves:",len(moves))
print("m:",len(m))









#
#import robot
#
#max_distance = 5.0
#max_steering = math.pi / 2. + 0.01
#
#myrobot = robot.Robot(x = 5, y = -1,bearing=0.7853981633974505 ,max_distance=max_distance, max_steering=max_steering)
#
#print("Init position",myrobot)
#
#x_new, y_new = 5.1, -0.9
#
#print("Target position",[x_new,y_new])
#
#dist, bearing = myrobot.measure_distance_and_bearing_to([x_new,y_new])
#print("distance:",dist,"bearing:",bearing)
#target_bearing = myrobot.bearing + bearing
#
#steer = robot.truncate_angle(target_bearing - myrobot.bearing)
#
#while(steer>0.0000001):
#    steer = robot.truncate_angle(target_bearing - myrobot.bearing)
#    print("steer",steer)
#    myrobot.move(steer,0)
#    print("robot bearing",myrobot.bearing)
#    print("target bearing",target_bearing)
#    
#while(dist > 0.0000001):
#    dist,bearing = myrobot.measure_distance_and_bearing_to([x_new,y_new])
#    print("Distance to point",dist)
#    myrobot.move(0,dist)
#    print("robot position",myrobot.__repr__())
#    print("target position",[x_new,y_new])
###    
###
###
###x_new, y_new = 4.3, -4.3
##
###print("x_new",x_new,"y_new",y_new)
###
###dist, bearing = myrobot.measure_distance_and_bearing_to([x_new,y_new])
###print("distance:",dist,"bearing:",bearing)
###
###
###while(myrobot.bearing != bearing and bearing != 0.0):
###    steer = robot.truncate_angle(bearing - myrobot.bearing )
###    print("steer",steer)
###    myrobot.move(steer,0)
###    print("robot bearing",myrobot.bearing)
###    print("target bearing",bearing)
###    
###for i in range(4):#while(dist != 0):
###    dist,bearing = myrobot.measure_distance_and_bearing_to([x_new,y_new])
###    print("Distance to point",dist)
###    myrobot.move(0,dist)
###    print("robot position",myrobot.__repr__())
###    print("target position",[x_new,y_new])